
void main()
{	
	Uart_init();
	while(1)
	{
		keyscan();
		GSM_work();
	}	  
}
void TIME()		 				//计时函数
{
// -------------------------------------------------------------------
	if(flag==0)			  //布防计时模式
	{
		delay(50);					   //延迟50ms
		TIME_50ms++;					
		if(TIME_50ms%10==0)			
		LED_B=!LED_B;	 //每500ms布防指示灯指示灯取反一次
					  
		if(TIME_50ms>=400)	//20s
		{
			TIME_50ms=0;   //计时变量清零
			flag_BF=1;	 //布防状态进入
			LED_B=0;	 //布防指示灯亮
			flag_time_start=0;		   //停止计时
			again=1;	 //关闭一分钟等待
		}	
	}
